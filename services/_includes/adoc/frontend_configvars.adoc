// set the attribute to true or leave empty, true without any quotes.

:show-deprecation: true

ifeval::[{show-deprecation} == true]

[#deprecation-note-2023-04-19-08-44-22]
[caption=]
.Deprecation notes for the frontend service
[width="100%",cols="~,~,~,~",options="header"]
|===
| Deprecation Info
| Deprecation Version
| Removal Version
| Deprecation Replacement

| STORAGE_TRANSFER_SECRET changing name for consistency
| 3.0
| 3.1
| OCIS_TRANSFER_SECRET

| REVA_GATEWAY changing name for consistency
| 3.0
| 3.1
| OCIS_REVA_GATEWAY

| FRONTEND_OCS_HOME_NAMESPACE changing name for consistency
| 3.0
| 3.1
| FRONTEND_OCS_PERSONAL_NAMESPACE
|===

endif::[]

[caption=]
.Environment variables for the frontend service
[width="100%",cols="~,~,~,~",options="header"]
|===
| Name
| Type
| Default Value
| Description

a|`OCIS_TRACING_ENABLED` +
`FRONTEND_TRACING_ENABLED` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates tracing.

a|`OCIS_TRACING_TYPE` +
`FRONTEND_TRACING_TYPE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The type of tracing. Defaults to "", which is the same as "jaeger". Allowed tracing types are "jaeger" and "" as of now.

a|`OCIS_TRACING_ENDPOINT` +
`FRONTEND_TRACING_ENDPOINT` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The endpoint of the tracing agent.

a|`OCIS_TRACING_COLLECTOR` +
`FRONTEND_TRACING_COLLECTOR` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The HTTP endpoint for sending spans directly to a collector, i.e. \http://jaeger-collector:14268/api/traces. Only used if the tracing endpoint is unset.

a|`OCIS_LOG_LEVEL` +
`FRONTEND_LOG_LEVEL` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The log level. Valid values are: "panic", "fatal", "error", "warn", "info", "debug", "trace".

a|`OCIS_LOG_PRETTY` +
`FRONTEND_LOG_PRETTY` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates pretty log output.

a|`OCIS_LOG_COLOR` +
`FRONTEND_LOG_COLOR` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates colorized log output.

a|`OCIS_LOG_FILE` +
`FRONTEND_LOG_FILE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The path to the log file. Activates logging to this file if set.

a|`FRONTEND_DEBUG_ADDR` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9141 ++
a| [subs=-attributes]
Bind address of the debug server, where metrics, health, config and debug endpoints will be exposed.

a|`FRONTEND_DEBUG_TOKEN` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Token to secure the metrics endpoint.

a|`FRONTEND_DEBUG_PPROF` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enables pprof, which can be used for profiling.

a|`FRONTEND_DEBUG_ZPAGES` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enables zpages, which can be used for collecting and viewing in-memory traces.

a|`FRONTEND_HTTP_ADDR` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9140 ++
a| [subs=-attributes]
The bind address of the HTTP service.

a|`FRONTEND_HTTP_PROTOCOL` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++tcp ++
a| [subs=-attributes]
The transport protocol of the HTTP service.

a|`FRONTEND_HTTP_PREFIX` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The Path prefix where the frontend can be accessed (defaults to /).

a|`OCIS_CORS_ALLOW_ORIGINS` +
`FRONTEND_CORS_ALLOW_ORIGINS` +

a| [subs=-attributes]
++[]string ++
a| [subs=-attributes]
++[*] ++
a| [subs=-attributes]
A comma-separated list of allowed CORS origins. See following chapter for more details: *Access-Control-Allow-Origin* at \https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin

a|`OCIS_CORS_ALLOW_METHODS` +
`FRONTEND_CORS_ALLOW_METHODS` +

a| [subs=-attributes]
++[]string ++
a| [subs=-attributes]
++[OPTIONS HEAD GET PUT POST DELETE MKCOL PROPFIND PROPPATCH MOVE COPY REPORT SEARCH] ++
a| [subs=-attributes]
A comma-separated list of allowed CORS methods. See following chapter for more details: *Access-Control-Request-Method* at \https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Method

a|`OCIS_CORS_ALLOW_HEADERS` +
`FRONTEND_CORS_ALLOW_HEADERS` +

a| [subs=-attributes]
++[]string ++
a| [subs=-attributes]
++[Origin Accept Content-Type Depth Authorization Ocs-Apirequest If-None-Match If-Match Destination Overwrite X-Request-Id X-Requested-With Tus-Resumable Tus-Checksum-Algorithm Upload-Concat Upload-Length Upload-Metadata Upload-Defer-Length Upload-Expires Upload-Checksum Upload-Offset X-HTTP-Method-Override] ++
a| [subs=-attributes]
A comma-separated list of allowed CORS headers. See following chapter for more details: *Access-Control-Request-Headers* at \https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers.

a|`OCIS_CORS_ALLOW_CREDENTIALS` +
`FRONTEND_CORS_ALLOW_CREDENTIALS` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
Allow credentials for CORS.See following chapter for more details: *Access-Control-Allow-Credentials* at \https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials.

a|`OCIS_TRANSFER_SECRET` +
`STORAGE_TRANSFER_SECRET` +
xref:deprecation-note-2023-04-19-08-44-22[Deprecation Note]
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Transfer secret for signing file up- and download requests.

a|`OCIS_JWT_SECRET` +
`FRONTEND_JWT_SECRET` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The secret to mint and validate jwt tokens.

a|`OCIS_REVA_GATEWAY` +
`REVA_GATEWAY` +
xref:deprecation-note-2023-04-19-08-44-22[Deprecation Note]
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9142 ++
a| [subs=-attributes]
The CS3 gateway endpoint.

a|`OCIS_GRPC_CLIENT_TLS_MODE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
TLS mode for grpc connection to the go-micro based grpc services. Possible values are 'off', 'insecure' and 'on'. 'off': disables transport security for the clients. 'insecure' allows to use transport security, but disables certificate verification (to be used with the autogenerated self-signed certificates). 'on' enables transport security, including server ceritificate verification.

a|`OCIS_GRPC_CLIENT_TLS_CACERT` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Path/File name for the root CA certificate (in PEM format) used to validate TLS server certificates of the go-micro based grpc services.

a|`OCIS_MACHINE_AUTH_API_KEY` +
`FRONTEND_MACHINE_AUTH_API_KEY` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The machine auth API key used to validate internal requests necessary to access resources from other services.

a|`FRONTEND_SKIP_USER_GROUPS_IN_TOKEN` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Disables the loading of user's group memberships from the reva access token.

a|`FRONTEND_ENABLE_FAVORITES` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enables the support for favorites in the clients.

a|`FRONTEND_ENABLE_PROJECT_SPACES` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
Changing this value is NOT supported. Indicates to clients that project spaces are supposed to be made available.

a|`FRONTEND_ENABLE_SHARE_JAIL` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
Changing this value is NOT supported. Indicates to clients that the share jail is supposed to be used.

a|`OCIS_SPACES_MAX_QUOTA` +
`FRONTEND_MAX_QUOTA` +

a| [subs=-attributes]
++uint64 ++
a| [subs=-attributes]
++0 ++
a| [subs=-attributes]
Set the global max quota value in bytes. A value of 0 equals unlimited. The value is provided via capabilities.

a|`FRONTEND_UPLOAD_MAX_CHUNK_SIZE` +

a| [subs=-attributes]
++int ++
a| [subs=-attributes]
++100000000 ++
a| [subs=-attributes]
Sets the max chunk sizes in bytes for uploads via the clients.

a|`FRONTEND_UPLOAD_HTTP_METHOD_OVERRIDE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Advise TUS to replace PATCH requests by POST requests.

a|`FRONTEND_DEFAULT_UPLOAD_PROTOCOL` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++tus ++
a| [subs=-attributes]
The default upload protocol to use in the clients (e.g. tus).

a|`FRONTEND_ENABLE_RESHARING` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
Changing this value is NOT supported. Enables the support for resharing in the clients.

a|`FRONTEND_ENABLE_FEDERATED_SHARING_INCOMING` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Changing this value is NOT supported. Enables support for incoming federated sharing for clients. The backend behaviour is not changed.

a|`FRONTEND_ENABLE_FEDERATED_SHARING_OUTGOING` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Changing this value is NOT supported. Enables support for outgoing federated sharing for clients. The backend behaviour is not changed.

a|`FRONTEND_SEARCH_MIN_LENGTH` +

a| [subs=-attributes]
++int ++
a| [subs=-attributes]
++3 ++
a| [subs=-attributes]
Minimum number of characters to enter before a client should start a search for Share receivers. This setting can be used to customize the user experience if e.g too many results are displayed.

a|`OCIS_URL` +
`FRONTEND_PUBLIC_URL` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++https://localhost:9200 ++
a| [subs=-attributes]
The public facing URL of the oCIS frontend.

a|`OCIS_INSECURE` +
`FRONTEND_APP_HANDLER_INSECURE` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Allow insecure connections to the frontend.

a|`FRONTEND_ARCHIVER_MAX_NUM_FILES` +

a| [subs=-attributes]
++int64 ++
a| [subs=-attributes]
++10000 ++
a| [subs=-attributes]
Max number of files that can be packed into an archive.

a|`FRONTEND_ARCHIVER_MAX_SIZE` +

a| [subs=-attributes]
++int64 ++
a| [subs=-attributes]
++1073741824 ++
a| [subs=-attributes]
Max size in bytes of the zip archive the archiver can create.

a|`OCIS_INSECURE` +
`FRONTEND_ARCHIVER_INSECURE` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Allow insecure connections to the archiver.

a|`FRONTEND_DATA_GATEWAY_PREFIX` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++data ++
a| [subs=-attributes]
Path prefix for the data gateway.

a|`FRONTEND_OCS_PREFIX` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ocs ++
a| [subs=-attributes]
URL path prefix for the OCS service. Note that the string must not start with '/'.

a|`FRONTEND_OCS_SHARE_PREFIX` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++/Shares ++
a| [subs=-attributes]
Path prefix for shares as part of an ocis resource. Note that the path must start with '/'.

a|`FRONTEND_OCS_PERSONAL_NAMESPACE` +
`FRONTEND_OCS_HOME_NAMESPACE` +
xref:deprecation-note-2023-04-19-08-44-22[Deprecation Note]
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++/users/{{.Id.OpaqueId}} ++
a| [subs=-attributes]
Homespace namespace identifier.

a|`FRONTEND_OCS_ADDITIONAL_INFO_ATTRIBUTE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++{{.Mail}} ++
a| [subs=-attributes]
Additional information attribute for the user like {{.Mail}}.

a|`FRONTEND_OCS_RESOURCE_INFO_CACHE_TTL` +

a| [subs=-attributes]
++int ++
a| [subs=-attributes]
++0 ++
a| [subs=-attributes]
Max TTL in seconds for the resource info cache. 0 disables the cache.

a|`FRONTEND_OCS_RESOURCE_INFO_CACHE_TYPE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++memory ++
a| [subs=-attributes]
The type of the resource info cache. Supported values are 'memory' and 'redis'.

a|`FRONTEND_OCS_RESOURCE_INFO_CACHE_REDIS_ADDR` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
A comma separated list of addresses to access the configured store. This has no effect when the 'memory' store is configured. Note that the behaviour how addresses are used is dependent on the library of the configured store.

a|`FRONTEND_OCS_RESOURCE_INFO_CACHE_REDIS_USERNAME` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The username to access the redis cache.

a|`FRONTEND_OCS_RESOURCE_INFO_CACHE_REDIS_PASSWORD` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The password to access the redis cache.

a|`FRONTEND_OCS_ENABLE_DENIALS` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
EXPERIMENTAL: enable the feature to deny access on folders.

a|`OCIS_SHARING_PUBLIC_WRITEABLE_SHARE_MUST_HAVE_PASSWORD` +
`FRONTEND_OCS_PUBLIC_WRITEABLE_SHARE_MUST_HAVE_PASSWORD` +

a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Set this to true if you want to enforce passwords on Uploader, Editor or Contributor shares.

a|`FRONTEND_CHECKSUMS_SUPPORTED_TYPES` +

a| [subs=-attributes]
++[]string ++
a| [subs=-attributes]
++[sha1 md5 adler32] ++
a| [subs=-attributes]
Define the checksum types that indicate to clients which hashes the server can use to verify upload integrity. You can provide multiple types separated by blank or comma. Supported types are 'sha1', 'md5' and 'adler32'.

a|`FRONTEND_CHECKSUMS_PREFERRED_UPLOAD_TYPE` +

a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++sha1 ++
a| [subs=-attributes]
The supported checksum type for uploads that indicates to clients supporting multiple hash algorithms which one is preferred by the server. Must be one out of the defined list of SUPPORTED_TYPES.

a|`FRONTEND_READONLY_USER_ATTRIBUTES` +

a| [subs=-attributes]
++[]string ++
a| [subs=-attributes]
++[] ++
a| [subs=-attributes]
Comma separated list of user attributes to indicate as read-only.
|===

