---
namespaceOverride: ocis
image:
  repository: owncloud/ocis-rolling
  tag: master
ingress:
  enabled: true
  ingressClassName: traefik
externalDomain: ocis-server
extraResources: []

logging:
  level: error
insecure:
  oidcIdpInsecure: true
  ocisHttpApiInsecure: true
  ocmInsecure: true
features:
  authapp:
    enabled: true
  emailNotifications:
    enabled: true
    smtp:
      host: mailpit
      port: 1025
      sender: 'oCIS <noreply@local.test>'
      authentication: none
      encryption: none
    branding:
      enabled: false
  virusscan:
    enabled: false
    infectedFileHandling: delete
  policies:
    enabled: false
  ocm:
    enabled: false
  sharing:
    passwordPolicies:
      bannedPasswords:
        - "password"
        - "123"
        - "12345678"
        - "ownCloud"
        - "owncloud-1"
  quotas:
    default: "1000000000"
    max: "0"
  appsIntegration:
    wopiIntegration:
      officeSuites:
        name: "Collabora"
        uri: "https://collabora:9980"

http:
  cors:
    allow_origins: []
  csp:
    directives:
      childSrc:
        - "'self'"
      connectSrc:
        - "'self'"
        - "blob: https://raw.githubusercontent.com/owncloud/awesome-ocis/"
      defaultSrc:
        - "'none'"
      fontSrc:
        - "'self'"
      frameAncestors:
        - "'self'"
      frameSrc:
        - "'self'"
        - "data: blob: https://embed.diagrams.net/"
      imgSrc:
        - "'self'"
        - "blob: https://raw.githubusercontent.com/owncloud/awesome-ocis/"
      manifestSrc:
        - "'self'"
      mediaSrc:
        - "'self'"
      objectSrc:
        - "'self'"
        - "blob:"
      scriptSrc:
        - "'self'"
        - "'unsafe-inline'"
      styleSrc:
        - "'self'"
        - "'unsafe-inline'"

services:
  idm:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  nats:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  storagesystem:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  storageusers:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  ocm:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  thumbnails:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  web:
    persistence:
      enabled: true
      accessModes:
        - ReadWriteOnce
  antivirus:
    events:
      consumer:
        concurrency: 10
secretRefs:
  notificationsSmtpSecretRef: notifications-smtp-secret
